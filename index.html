<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Carpool Connect</title>
    <link rel="stylesheet" href="styles.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link rel="icon" type="image/x-icon" href="favicon.ico" />
    <style>
      .navbar-toggler {
        border-color: whitesmoke;
      }

      .navbar-toggler-icon {
        background-image: url("data:image/svg+xml;charset=UTF8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3E%3Cpath stroke='white' stroke-width='3' stroke-linecap='round' stroke-miterlimit='10' d='M4 7h22M4 15h22M4 23h22'/%3E%3C/svg%3E");
      }
    </style>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
      <div class="container-fluid">
        <a href="#" class="navbar-brand"
          ><img
            src="carpool-connect.webp"
            alt="Carpool Connect Logo"
            width="60"
            height="auto"
        /></a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a
                class="nav-link active"
                aria-current="page"
                href="login.html"
                id="sign-up-button"
                >Sign Up</a
              >
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <header class="hero">
      <h1>Find a Ride, Share a Ride!</h1>
      <p>Save money, reduce traffic, and travel smart.</p>

      <button onclick="scrollToForm()">Find a Carpool</button>
    </header>
    <main>
      <form id="carpool-form">
        <label for="from"><i class="fa-solid fa-signature"></i> Name</label>
        <input type="text" id="name" placeholder="Enter your name" required />

        <label for="from"><i class="fas fa-map-marker-alt"></i> From</label>
        <input
          type="text"
          id="from"
          placeholder="Enter starting location"
          required
          oninput="searchLocation(this.value, 'from-list')"
        />
        <ul id="from-list" class="suggestions"></ul>

        <label for="to"><i class="fas fa-map-marker-alt"></i> To</label>
        <input
          type="text"
          id="to"
          placeholder="Enter destination"
          required
          oninput="searchLocation(this.value, 'to-list')"
        />
        <ul id="to-list" class="suggestions"></ul>

        <label for="time"><i class="fas fa-clock"></i> Time</label>
        <input type="datetime-local" id="time" required />

        <button type="submit" id="find-ride-btn">Find a Ride</button>
      </form>

      <section id="chatbox-section" class="hidden">
        <h2>Chatbox</h2>
        <div id="chat-box"></div>
        <input type="text" id="message-input" placeholder="Type a message..." />
        <button id="send-btn"><i class="fa-solid fa-paper-plane"></i></button>
      </section>

      <section class="results hidden" id="results">
        <h2>Available Rides</h2>
        <div id="ride-container"></div>
        <p id="no-results" class="hidden">
          No rides found. Try adjusting your search.
        </p>
      </section>
      <section class="how-it-works" id="how-it-works">
        <h2>How It Works</h2>
        <div class="steps">
          <div class="step">
            <i class="fas fa-map-marker-alt"></i>
            <h3>Step 1</h3>
            <p>Enter your pickup and drop-off locations.</p>
          </div>
          <div class="step">
            <i class="fas fa-users"></i>
            <h3>Step 2</h3>
            <p>Get matched with nearby commuters.</p>
          </div>
          <div class="step">
            <i class="fas fa-comments"></i>
            <h3>Step 3</h3>
            <p>Chat and confirm your ride.</p>
          </div>
          <div class="step">
            <i class="fas fa-car"></i>
            <h3>Step 4</h3>
            <p>Share the ride and save money!</p>
          </div>
        </div>
      </section>
      <section class="benefits" id="benefits">
        <h2>Why Carpool with Us?</h2>
        <div class="benefits-container">
          <div class="benefit">
            <i class="fas fa-wallet"></i>
            <h3>Save Money</h3>
            <p>Reduce fuel costs by sharing rides.</p>
          </div>
          <div class="benefit">
            <i class="fas fa-leaf"></i>
            <h3>Eco-Friendly</h3>
            <p>Lower carbon emissions and traffic congestion.</p>
          </div>
          <div class="benefit">
            <i class="fas fa-clock"></i>
            <h3>Save Time</h3>
            <p>Use carpool lanes and avoid traffic delays.</p>
          </div>
          <div class="benefit">
            <i class="fas fa-user-friends"></i>
            <h3>Meet New People</h3>
            <p>Connect with like-minded commuters.</p>
          </div>
        </div>
      </section>
    </main>
    <footer class="footer" id="footer">
      <div class="footer-container">
        <div class="footer-section">
          <h3>About Us</h3>
          <p>
            We make commuting easy by connecting riders for safe and affordable
            carpooling.
          </p>
        </div>
        <div class="footer-section">
          <h3>Quick Links</h3>
          <ul>
            <li><a href="#carpool-form">Home</a></li>
            <li><a href="#how-it-works">How It Works</a></li>
            <li><a href="#benefits">Benefits</a></li>
            <li><a href="#footer">Contact</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h3>Follow Us</h3>
          <div class="social-icons">
            <a href="#"><i class="fab fa-facebook"></i></a>
            <a href="#"><i class="fab fa-x-twitter"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
            <a href="#"><i class="fab fa-linkedin"></i></a>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2025 Carpool Connect. All rights reserved.</p>
      </div>
    </footer>
    <script src="./env.js"></script>
    <script src="script.js"></script>
    <script type="module" src="firebase.js"></script>
    <script type="module" src="autocomplete.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <script type="module">
      import {
        getAuth,
        onAuthStateChanged,
      } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js";

      const auth = getAuth();

      onAuthStateChanged(auth, (user) => {
        if (user) {
          console.log("User is logged in:", user.email);
        } else {
          console.log("No user logged in. Redirecting to login...");
          window.location.href = "login.html";
        }
      });
    </script>
  </body>
</html>
